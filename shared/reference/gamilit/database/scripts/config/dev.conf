#!/bin/bash
##############################################################################
# GAMILIT Platform - Development Environment Configuration
# Archivo: dev.conf
# Uso: Cargado automáticamente por scripts cuando --env dev
##############################################################################

# ============================================================================
# DATABASE CONNECTION
# ============================================================================

# Host y puerto (local)
export ENV_DB_HOST="localhost"
export ENV_DB_PORT="5432"

# SSL Configuration (deshabilitado en dev)
export ENV_DB_SSL="false"
export ENV_DB_SSL_MODE="disable"

# Connection Type
export ENV_CONNECTION_TYPE="local"  # local | remote
export ENV_VALIDATE_REMOTE="false"

# ============================================================================
# SEEDS CONFIGURATION
# ============================================================================

# Seeds directory
export ENV_SEEDS_DIR="seeds/dev"

# Load demo data
export ENV_LOAD_DEMO_DATA="true"
export ENV_LOAD_DEMO_USERS="true"
export ENV_LOAD_DEMO_EXERCISES="true"
export ENV_LOAD_DEMO_GAMIFICATION="true"

# ============================================================================
# VALIDATION
# ============================================================================

# Strict validation (más permisivo en dev)
export ENV_STRICT_VALIDATION="false"

# Skip validations
export ENV_SKIP_RLS_VALIDATION="false"
export ENV_SKIP_TRIGGER_VALIDATION="false"
export ENV_SKIP_INDEX_VALIDATION="false"

# Minimum object counts (esperados en dev)
export ENV_MIN_SCHEMAS="9"
export ENV_MIN_TABLES="60"
export ENV_MIN_FUNCTIONS="50"
export ENV_MIN_TRIGGERS="40"
export ENV_MIN_RLS_POLICIES="100"
export ENV_MIN_INDEXES="200"

# ============================================================================
# SECURITY
# ============================================================================

# Password requirements (más relajado en dev)
export ENV_REQUIRE_STRONG_PASSWORD="false"
export ENV_MIN_PASSWORD_LENGTH="16"
export ENV_GENERATE_PASSWORD="true"

# ============================================================================
# PERFORMANCE
# ============================================================================

# Parallel execution
export ENV_PARALLEL_INDEXES="true"
export ENV_PARALLEL_SEEDS="false"

# Timeouts (en segundos)
export ENV_DDL_TIMEOUT="300"      # 5 minutos
export ENV_SEED_TIMEOUT="600"     # 10 minutos

# ============================================================================
# LOGGING
# ============================================================================

# Log level: debug | info | warning | error
export ENV_LOG_LEVEL="info"

# Log file
export ENV_LOG_FILE="logs/init-dev-$(date +%Y%m%d-%H%M%S).log"

# Verbose output
export ENV_VERBOSE="true"

# ============================================================================
# FEATURES
# ============================================================================

# Feature flags para desarrollo
export ENV_ENABLE_EXPERIMENTAL="true"
export ENV_ENABLE_DEBUG_QUERIES="true"
export ENV_ENABLE_QUERY_LOGGING="false"

# ============================================================================
# NOTES
# ============================================================================

# Ambiente: Desarrollo
# - Permite datos demo
# - Validaciones más permisivas
# - Logs detallados
# - Sin SSL
# - Conexión local
